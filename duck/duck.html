<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Duck Hunt Dog!</title>
    <link rel="stylesheet" href="assets/duck.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pixi.js/5.1.3/pixi.min.js"></script>
</head>

<body>
    <!-- <canvas id="mycanvas"></canvas> -->
    <script>
        //Aliases
let Application = PIXI.Application,
    Container = PIXI.Container,
    Graphics = PIXI.Graphics,
    TextureCache = PIXI.utils.TextureCache,
    Sprite = PIXI.Sprite,
    Text = PIXI.Text,
    TextStyle = PIXI.TextStyle;


const canvas = document.getElementById('mycanvas');

//Create a Pixi Application
let app = new Application({ 
    width: window.innerWidth, 
    height: window.innerHeight,                       
    antialiasing: true, 
    transparent: false, 
    resolution: 1
  }
);

app.renderer.backgroundColor = 0x77d0f3;

document.body.appendChild(app.view);


function setup() {

// make the game scene and add it to stage
gameScene = new Container();
app.stage.addChild(gameScene);

//game over scene
gameOverScene = new Container();
app.stage.addChild(gameOverScene);
gameOverScene.visible = false;

//making ducks
let numberOfDucks = 6,
spacing = 48,
xOffset = 150,
speed = 1,
direction = 1;

const texture_duck = PIXI.Texture.from('assets/images/duck.svg');

// an array to store all ducks
ducks = [];

//make duck
let duck = new Sprite(texture_duck);

//xOffset is point of first duck from left of screen
// ket x = spacing * i  + xOffset;

// give duck random x position
let x = randomInt(0, app.stage.width = duck.width);

// set duck's position
duck.x = x;
duck.y = app.renderer.height;

duck.vy = speed * direction;

//change direction for next blob
direction *= -1;

//pushing ducks in array
ducks.push(duck);

gameScene.addChild(duck);

state = play;

app.ticker.add(delta => gameLoop(delta));
}

function gameLoop(delta){
    //updates the game state
    state(delta);
}

function play(delta) {
    ducks.forEach(function(duck) {
        //mode duck
        duck.y += duck.vy;

        // let duckHitsWall = contain(duck, )
    });

}

function end() {
    gameScene.visible = false;
    gameOverScene.visible = true;
}
</script>


</body>
</html>